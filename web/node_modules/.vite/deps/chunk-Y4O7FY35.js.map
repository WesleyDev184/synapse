{
  "version": 3,
  "sources": ["../../.pnpm/nuqs@2.7.3_@tanstack+react-router@1.134.15_react-dom@19.2.0_react@19.2.0__react@19.2.0__react@19.2.0/node_modules/nuqs/src/lib/debug.ts", "../../.pnpm/nuqs@2.7.3_@tanstack+react-router@1.134.15_react-dom@19.2.0_react@19.2.0__react@19.2.0__react@19.2.0/node_modules/nuqs/src/lib/errors.ts", "../../.pnpm/nuqs@2.7.3_@tanstack+react-router@1.134.15_react-dom@19.2.0_react@19.2.0__react@19.2.0__react@19.2.0/node_modules/nuqs/src/lib/url-encoding.ts", "../../.pnpm/nuqs@2.7.3_@tanstack+react-router@1.134.15_react-dom@19.2.0_react@19.2.0__react@19.2.0__react@19.2.0/node_modules/nuqs/src/adapters/lib/context.ts"],
  "sourcesContent": ["export const debugEnabled: boolean = isDebugEnabled()\n\nexport function debug(message: string, ...args: any[]): void {\n  if (!debugEnabled) {\n    return\n  }\n  const msg = sprintf(message, ...args)\n  performance.mark(msg)\n  try {\n    // Handle React Devtools not being able to console.log('%s', null)\n    console.log(message, ...args)\n  } catch {\n    console.log(msg)\n  }\n}\n\nexport function warn(message: string, ...args: any[]): void {\n  if (!debugEnabled) {\n    return\n  }\n  console.warn(message, ...args)\n}\n\nexport function sprintf(base: string, ...args: any[]): string {\n  return base.replace(/%[sfdO]/g, match => {\n    const arg = args.shift()\n    return match === '%O' && arg\n      ? JSON.stringify(arg).replace(/\"([^\"]+)\":/g, '$1:')\n      : String(arg)\n  })\n}\n\nfunction isDebugEnabled(): boolean {\n  // Check if localStorage is available.\n  // It may be unavailable in some environments,\n  // like Safari in private browsing mode.\n  // See https://github.com/47ng/nuqs/pull/588\n  try {\n    const test = 'nuqs-localStorage-test'\n    if (typeof localStorage === 'undefined') {\n      return false\n    }\n    localStorage.setItem(test, test)\n    const isStorageAvailable = localStorage.getItem(test) === test\n    localStorage.removeItem(test)\n    return (\n      isStorageAvailable &&\n      (localStorage.getItem('debug') || '').includes('nuqs')\n    )\n  } catch {\n    return false\n  }\n}\n", "export const errors = {\n  303: 'Multiple adapter contexts detected. This might happen in monorepos.',\n  404: 'nuqs requires an adapter to work with your framework.',\n  409: 'Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.',\n  414: 'Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.',\n  422: 'Invalid options combination: `limitUrlUpdates: debounce` should be used in SSR scenarios, with `shallow: false`',\n  429: 'URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O',\n  500: \"Empty search params cache. Search params can't be accessed in Layouts.\",\n  501: 'Search params cache already populated. Have you called `parse` twice?'\n} as const\n\nexport function error(code: keyof typeof errors) {\n  return `[nuqs] ${errors[code]}\n  See https://nuqs.dev/NUQS-${code}`\n}\n", "import { error } from './errors'\n\nexport function renderQueryString(search: URLSearchParams): string {\n  if (search.size === 0) {\n    return ''\n  }\n  const query: string[] = []\n  for (const [key, value] of search.entries()) {\n    // Replace disallowed characters in keys,\n    // see https://github.com/47ng/nuqs/issues/599\n    const safeKey = key\n      .replace(/#/g, '%23')\n      .replace(/&/g, '%26')\n      .replace(/\\+/g, '%2B')\n      .replace(/=/g, '%3D')\n      .replace(/\\?/g, '%3F')\n    query.push(`${safeKey}=${encodeQueryValue(value)}`)\n  }\n  const queryString = '?' + query.join('&')\n  warnIfURLIsTooLong(queryString)\n  return queryString\n}\n\nexport function encodeQueryValue(input: string): string {\n  return (\n    input\n      // Encode existing % signs first to avoid appearing\n      // as an incomplete escape sequence:\n      .replace(/%/g, '%25')\n      // Note: spaces are encoded as + in RFC 3986,\n      // so we pre-encode existing + signs to avoid confusion\n      // before converting spaces to + signs.\n      .replace(/\\+/g, '%2B')\n      .replace(/ /g, '+')\n      // Encode other URI-reserved characters\n      .replace(/#/g, '%23')\n      .replace(/&/g, '%26')\n      // Encode characters that break URL detection on some platforms\n      // and would drop the tail end of the querystring:\n      .replace(/\"/g, '%22')\n      .replace(/'/g, '%27')\n      .replace(/`/g, '%60')\n      .replace(/</g, '%3C')\n      .replace(/>/g, '%3E')\n      // Encode invisible ASCII control characters\n      .replace(/[\\x00-\\x1F]/g, char => encodeURIComponent(char))\n  )\n}\n\n// Note: change error documentation (NUQS-414) when changing this value.\nexport const URL_MAX_LENGTH = 2000\n\nexport function warnIfURLIsTooLong(queryString: string): void {\n  if (process.env.NODE_ENV === 'production') {\n    return\n  }\n  if (typeof location === 'undefined') {\n    return\n  }\n  const url = new URL(location.href)\n  url.search = queryString\n  if (url.href.length > URL_MAX_LENGTH) {\n    console.warn(error(414))\n  }\n}\n", "import {\n  createContext,\n  createElement,\n  useContext,\n  type Context,\n  type ProviderProps,\n  type ReactElement,\n  type ReactNode\n} from 'react'\nimport type { Options } from '../../defs'\nimport { debugEnabled } from '../../lib/debug'\nimport { error } from '../../lib/errors'\nimport type { AdapterInterface, UseAdapterHook } from './defs'\n\nexport type AdapterProps = {\n  defaultOptions?: Partial<\n    Pick<Options, 'shallow' | 'clearOnDefault' | 'scroll' | 'limitUrlUpdates'>\n  >\n  processUrlSearchParams?: (search: URLSearchParams) => URLSearchParams\n}\n\nexport type AdapterContext = AdapterProps & {\n  useAdapter: UseAdapterHook\n}\n\nexport const context: Context<AdapterContext> = createContext<AdapterContext>({\n  useAdapter() {\n    throw new Error(error(404))\n  }\n})\ncontext.displayName = 'NuqsAdapterContext'\n\ndeclare global {\n  interface Window {\n    __NuqsAdapterContext?: typeof context\n  }\n}\n\nif (debugEnabled && typeof window !== 'undefined') {\n  if (window.__NuqsAdapterContext && window.__NuqsAdapterContext !== context) {\n    console.error(error(303))\n  }\n  window.__NuqsAdapterContext = context\n}\n\nexport type AdapterProvider = (\n  props: AdapterProps & {\n    children: ReactNode\n  }\n) => ReactElement<ProviderProps<AdapterContext>>\n\n/**\n * Create a custom adapter (context provider) for nuqs to work with your framework / router.\n *\n * Adapters are based on React Context,\n *\n * @param useAdapter\n * @returns\n */\nexport function createAdapterProvider(\n  useAdapter: UseAdapterHook\n): AdapterProvider {\n  return ({ children, defaultOptions, processUrlSearchParams, ...props }) =>\n    createElement(\n      context.Provider,\n      {\n        ...props,\n        value: { useAdapter, defaultOptions, processUrlSearchParams }\n      },\n      children\n    )\n}\n\nexport function useAdapter(watchKeys: string[]): AdapterInterface {\n  const value = useContext(context)\n  if (!('useAdapter' in value)) {\n    throw new Error(error(404))\n  }\n  return value.useAdapter(watchKeys)\n}\n\nexport const useAdapterDefaultOptions = (): AdapterProps['defaultOptions'] =>\n  useContext(context).defaultOptions\n\nexport const useAdapterProcessUrlSearchParams =\n  (): AdapterProps['processUrlSearchParams'] =>\n    useContext(context).processUrlSearchParams\n"],
  "mappings": "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",
  "names": ["debugEnabled: boolean", "query: string[]", "context: Context<AdapterContext>"]
}
